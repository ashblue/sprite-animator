<form enctype="multipart/form-data" name="spriteForm" id="form-upload" ng-submit="spriteForm.$valid && uploadCtrl.imageReady && uploadCtrl.addUpload(uploadCtrl.upload)"> <div class="col-md-4"> <div id="slice-lines-container"> <img id="upload-preview" ng-src="{{uploadCtrl.upload.image}}" ng-hide="uploadCtrl.imageReady"> <div id="canvas-upload-preview" ng-show="uploadCtrl.imageReady"></div> <canvas id="canvas-slice" class="slice-lines" ng-show="uploadCtrl.imageReady"></canvas> </div> <span class="btn btn-default" ng-show="uploadCtrl.imageReady" ng-click="uploadCtrl.clearImage($event)">Clear Image</span> </div> <div class="col-md-8"> <div ng-show="uploadCtrl.upload.sprite_id" class="alert alert-warning"> <p style="margin-bottom: 10px">This image upload will overwrite the sprite named <strong>{{uploadCtrl.upload.name}}</strong> and replace all references to it. If you don't want to replace this sprite, then click the remove button.</p> <span ng-click="uploadCtrl.removeSprite()" class="btn btn-danger btn-xs">X Remove Sprite</span> </div> <div ng-hide="uploadCtrl.upload.sprite_id" class="form-group"> <label for="sprite-name">Name</label> <input class="form-control" id="sprite-name" type="text" required ng-model="uploadCtrl.upload.name"> </div> <div class="form-group" ng-hide="uploadCtrl.imageReady"> <label for="sprite-file">Image File</label> <input accept="image/*" id="sprite-file" type="file" ng-model="uploadCtrl" onchange="angular.element(this).scope().uploadCtrl.imageUpload(this)"> </div> <div class="form-group"> <label for="sprite-rows">Rows</label> <input ng-change="uploadCtrl.setSlice()" min="1" id="sprite-rows" class="form-control" required type="number" ng-model="uploadCtrl.upload.rows"> </div> <div class="form-group"> <label for="sprite-cols">Columns</label> <input ng-change="uploadCtrl.setSlice()" min="1" id="sprite-cols" class="form-control" required type="number" ng-model="uploadCtrl.upload.cols"> </div> <input ng-model="uploadCtrl.upload.image_id" type="hidden"> <input ng-model="uploadCtrl.upload.sprite_id" type="hidden"> <button type="submit" class="btn btn-primary">Submit</button> </div> </form>